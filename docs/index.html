

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to StreamStats Data Preparation Tools Documentation! &mdash; StreamStats Data Preparation Tools 4.0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StreamStats_DataPrep ESRI Toolbox" href="StreamStats_DataPrep.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> StreamStats Data Preparation Tools
          

          
          </a>

          
            
            
              <div class="version">
                4.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="StreamStats_DataPrep.html">StreamStats_DataPrep ESRI Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">StreamStats DataPrep Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_scripts.html">Example Scripts</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">StreamStats Data Preparation Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Welcome to StreamStats Data Preparation Tools Documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-streamstats-data-preparation-tools-documentation">
<h1>Welcome to StreamStats Data Preparation Tools Documentation!<a class="headerlink" href="#welcome-to-streamstats-data-preparation-tools-documentation" title="Permalink to this headline">¶</a></h1>
<p>A Python package to pre-process and hydro-enforce digital elevation models using hydrography features for use in the U.S. Geological Survey (USGS) StreamStats project.</p>
<p>Legacy version 3.10 tools can be accessed <a class="reference external" href="https://github.com/usgs/water-datapreptools/archive/v3.10.zip">here</a>. See below for installation instructions for version 4 tools.</p>
<div class="section" id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p>The StreamStats Data Preparation Tools aid in the processing of digital elevation models (DEMs) and hydrography data for ingestion into the USGS StreamStats project and web-application. The tools and associated work flow examples can be used to prepare DEM and hydrography subsets for local StreamStats folders, prepare those data for use in hydro-enforcement, hydro-enforce the digital elevation model, and process the resulting flow accumulation and flow direction grids for use in the ESRI ArcHydro data model.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Tool and function library documentation can be found by opening <a class="reference external" href="https://usgs.github.io/water-datapreptools/">https://usgs.github.io/water-datapreptools/</a>.</p>
</div>
<div class="section" id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>Please cite these tools and documentation as:</p>
<p>Barnhart, T.B., Smith, M., Rea, A., Kolb, K., Steeves, P., and McCarthy, P., 2020, StreamStats Data Preparation Tools, version 4: USGS Software Release, <a class="reference external" href="https://doi.org/10.5066/P9UM2NUL">https://doi.org/10.5066/P9UM2NUL</a>.</p>
<p>Version 4 (IP-112997) was approved on September 3, 2020.</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>This toolbox has few dependencies; however, it must either be started through ESRI ArcMap 10.6.1 or ESRI ArcPro 2.5.1 or via a Python 2 or 3 executable that is aware of ESRI ArcPy. These tools can be run either via their ESRI ArcToolbox wrappers or as functions via Python scripts to facilitate processing of larger domains.</p>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">post-hydrodem()</span></code> function requires ESRI ArcHydro. Please use version 10.6.0.51 of ESRI ArcHydro 64-bit or greater, available here: <a class="reference external" href="http://downloads.esri.com/archydro/ArcHydro/Setup/10.6/">http://downloads.esri.com/archydro/ArcHydro/Setup/10.6/</a></p>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>This package is contained in several Python files, which will need to be installed correctly to function (see below).</p>
<ul>
<li><dl class="first docutils">
<dt>root</dt><dd><blockquote>
<div><ul class="simple">
<li><strong>documentation:</strong> Documentation of the tools and functions. Open <code class="docutils literal notranslate"><span class="pre">documentation/build/html/index.html</span></code> to access.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>StreamStats_DataPrep.pyt:</strong> ESRI ArcPy Toolbox wrapper file.</li>
<li><strong>StreamStats_DataPrep.py:</strong> ESRI ArcPy Toolbox definition file.</li>
<li><strong>databaseSetup.py:</strong> Python module for setting up the local folders for a processing domain.</li>
<li><strong>elevationTools.py:</strong> Python module for inspecting DEMs, reprojection, and scaling values to integers.</li>
<li><strong>make_hydrodem.py:</strong> Python module for DEM hydro-enforcement.</li>
<li><strong>*.xml:</strong> ESRI ArcPy Toolbox documentation files.</li>
<li><strong>examples:</strong> Folder of Python script examples of workflows.</li>
<li><strong>source:</strong> Folder containing documentation source files.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Clone these tools onto your machine using the <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/usgs/water-datapreptools.git</span></code> command. Or download the repository using the link in the upper right of the repository page here: <a class="reference external" href="https://github.com/usgs/water-datapreptools">https://github.com/usgs/water-datapreptools</a></p>
<p>Once downloaded, the data preparation ESRI ArcGIS toolbox can be accessed from the ArcCatalog pane in ESRI ArcMap or navigated to in ESRI ArcPro. The toolbox is compatible with both ESRI ArcMap (i.e. Python 2) and ESRI ArcPro (i.e. Python 3), except for the final processing step, Post Hydrodem, which relies on ESRI ArcHydro and only works with ESRI ArcMap (Python 2) at this time (2020) due to ESRI ArcHydro compatibility issues with ESRI ArcPro (i.e. Python 3).</p>
<p>The ESRI ArcGIS toolbox is built from a set of Python libraries that can be called from the command line or a scripting environment to facilitate processing large volumes of data. Please refer to the documentation of the <a class="reference internal" href="modules.html#modules-label"><span class="std std-ref">StreamStats DataPrep Library</span></a> and <a class="reference internal" href="example_scripts.html#examples-label"><span class="std std-ref">Example Scripts</span></a> for information and examples on the usage of the tools on the command line. The tools run fastest via ESRI ArcPro or Python 3 (see caveat above), but can still be used with ESRI ArcMap and Python 2.</p>
</div>
<div class="section" id="reporting-issues-and-problems-with-the-tools">
<h2>Reporting Issues and Problems with the Tools<a class="headerlink" href="#reporting-issues-and-problems-with-the-tools" title="Permalink to this headline">¶</a></h2>
<p>Please log problems with the tools or function libraries in the <a class="reference external" href="https://code.usgs.gov/StreamStats/datapreptools/-/issues">issues portion</a> of this repository. <strong>Please do not email me.</strong> Logging problems in this way allows other users to see the discussion and, hopefully, the solution to problems. Please be sure to check out the repository documentation as well before submitting an issue.</p>
</div>
<div class="section" id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>Networked storage drives:</strong> When working on ESRI ArcGIS projects stored on network Attached Storage (NAS) devices, additional configuration may be required. See:</dt><dd><ul>
<li><a class="reference external" href="https://community.spiceworks.com/topic/1389064-performance-and-locking-issues-with-synology-nas-and-arcgis">https://community.spiceworks.com/topic/1389064-performance-and-locking-issues-with-synology-nas-and-arcgis</a></li>
<li><a class="reference external" href="https://support.esri.com/en/technical-article/000012722">https://support.esri.com/en/technical-article/000012722</a></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<p>The authors thank Moon Kim (USGS) for his comments on an early version of this code and Tara Gross (USGS) for her software release reviews.</p>
</div>
<div class="section" id="disclaimers">
<h2>Disclaimers<a class="headerlink" href="#disclaimers" title="Permalink to this headline">¶</a></h2>
<p>Any use of trade, firm, or product names is for descriptive purposes only and does not imply endorsement by the U.S. Government.</p>
<p>Please see DISCLAIMER.md in this repository.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Please see LICENSE.md in this repository.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="StreamStats_DataPrep.html">StreamStats_DataPrep ESRI Toolbox</a><ul>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#database-setup">Database Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#make-elevation-data-index">Make Elevation Data Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#extract-polygons">Extract Polygons</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#check-for-nodata-cells">Check For NoData Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#fill-nodata-cells">Fill NoData Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#project-and-scale">Project and Scale</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#topogrid-optional">TopoGrid (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#bathymetic-gradient-setup">Bathymetic Gradient Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#coastal-dem-processing-optional">Coastal DEM Processing (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#hydro-enforce-dem">Hydro-Enforce DEM</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#adjust-accumulation">Adjust Accumulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#adjust-accumulation-simple">Adjust Accumulation Simple</a></li>
<li class="toctree-l2"><a class="reference internal" href="StreamStats_DataPrep.html#post-hydrodem">Post Hydrodem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">StreamStats DataPrep Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="databaseSetup.html">databaseSetup Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="elevationTools.html">elevationTools Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="make_hydrodem.html">make_hydrodem Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="topo_grid.html">topo_grid Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example_scripts.html">Example Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ex_databaseSetup.html">Initial Database Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_makeELEVDATAindex.html">Make Digital Elevation Model Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_extractPoly.html">Extract Watershed Polygon</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_FillNoData.html">Fill NoData Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_ProjScale.html">Project and Scale a Digital Elevation Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_check_walls.html">Check Inner and Outer Walls</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_CheckNoData.html">Check For NoData Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_topogrid.html">Topogrid (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_bathymetricGradient.html">Bathymetric Gradient</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_hydroDEM.html">Hydro-Enforce a Digital Elevation Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_adjust_accum.html">Adjust Accumulation Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_adjust_accum_simple.html">Adjust Accumulation Grid (Simple)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_post_hydrodem.html">Post Hydro-Enforcement</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="StreamStats_DataPrep.html" class="btn btn-neutral float-right" title="StreamStats_DataPrep ESRI Toolbox" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Theodore Barnhart, Martyn Smith, Alan Rea, Katharine Kolb, Peter Steeves, and Peter McCarthy, U.S. Geological Survey.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>